---
permalink: disaster-recovery/index.html
sidebar: sidebar
keywords: 
summary: ''
---
= MetroClusterÂ® Management and Disaster Recovery Guide
:icons: font
:imagesdir: ../media/

* link:task_perform_a_forced_switchover_after_a_disaster.md#task_perform_a_forced_switchover_after_a_disaster[Performing a forced switchover after a disaster]
 ** link:task_perform_a_forced_switchover_after_a_disaster.md#task_fence_off_the_disaster_site_container_topic[Fencing off the disaster site]
 ** link:task_perform_a_forced_switchover_after_a_disaster.md#task_perform_a_forced_switchover_fc[Performing a forced switchover]
 ** link:task_perform_a_forced_switchover_after_a_disaster.md#concept_output_for_storage_aggregate_plex_show_after_a_mcc_switchover[Output for the storage aggregate plex show command is indeterminate after a MetroCluster switchover]
 ** link:task_perform_a_forced_switchover_after_a_disaster.md#task_access_the_database_after_an_nvram_failure[Accessing volumes in NVFAIL state after a switchover]
* xref:concept_choosing_the_correct_recovery_procedure_parent_concept.adoc[Choosing the correct recovery procedure]
* xref:task_recover_from_a_multi_controller_and_or_storage_failure.adoc[Recovering from a multi-controller or storage failure]
 ** link:task_replace_hardware_and_boot_new_controllers.md#task_replace_hardware_and_boot_new_controllers[Replacing hardware and booting new controllers]
  *** link:task_replace_hardware_and_boot_new_controllers.md#task_replace_hardware_at_the_disaster_site[Replacing hardware at the disaster site]
  *** link:task_replace_hardware_and_boot_new_controllers.md#task_determin_the_system_ids_and_vlan_ids_of_the_old_controller_modules[Determining the system IDs and VLAN IDs of the old controller modules]
  *** link:task_replace_hardware_and_boot_new_controllers.md#task_isolate_replacement_drives_from_the_disaster_site_mcc_ip_configurations[Isolating replacement drives from the surviving site (MetroCluster IP configurations)]
  *** link:task_replace_hardware_and_boot_new_controllers.md#task_clear_the_configuration_on_a_controller_module_mcc[Clearing the configuration on a controller module]
  *** link:task_replace_hardware_and_boot_new_controllers.md#task_netboot_the_new_controller_modules[Netbooting the new controller modules]
  *** link:task_replace_hardware_and_boot_new_controllers.md#task_determin_the_system_ids_of_the_replacement_controller_modules[Determining the system IDs of the replacement controller modules]
  *** link:task_replace_hardware_and_boot_new_controllers.md#task_verify_that_the_ha_state_of_components_is_mcc_dr_smok_crater_or_mcc_expansion[Verifying the ha-config state of components]
 ** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask[Preparing for switchback in a MetroCluster IP configuration]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_set_required_environmental_variables_mcc_ip_dr[Setting required environmental variables in MetroCluster IP configurations]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_power_on_the_equipment_mcc_ip_dr[Powering on the equipment at the disaster site (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_configure_the_ip_switches_mcc_ip_configuration_smok_crater[Configuring the IP switches (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_verify_storage_connectivity_to_the_remote_site_mcc_ip_dr[Verify storage connectivity to the remote site (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_reassign_disk_ownership_for_pool_1_disks_on_the_disaster_site_mcc_ip_configurations[Reassigning disk ownership for pool 1 disks on the disaster site (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_boot_the_new_controller_modules_mcc_ip_configurations_mcc_dr[Booting to ONTAP on replacement controller modules in MetroCluster IP configurations]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_restore_disk_connectivity_from_the_surviv_cluster_mcc_ip_configurations[Restoring connectivity from the surviving nodes to the disaster site (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_verify_automatic_assignment_or_manually_assign_pool_0_drives[Verifying automatic assignment or manually assigning pool 0 drives]
   **** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_verify_drive_assignment_of_pool_0_drives_on_adp_systems_at_the_disaster_site_mcc_ip_systems[Verifying drive assignment of pool 0 drives on ADP systems at the disaster site (MetroCluster IP systems)]
   **** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_assign_pool_0_drives_on_non_adp_systems_at_the_disaster_site_mcc_ip_configurations[Assigning pool 0 drives on non-ADP systems at the disaster site (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_assign_pool_1_drives_on_the_surviv_site_mcc_ip_configurations[Assigning pool 1 drives on the surviving site (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_delet_failed_plexes_owned_by_the_surviv_site_mcc_ip_configurations[Deleting failed plexes owned by the surviving site (MetroCluster IP configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_ip_configuration_supertask.md#task_perform_aggregate_heal_and_restore_mirrors_mcc_ip_configurations[Performing aggregate healing and restoring mirrors (MetroCluster IP configurations)]
 ** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask[Preparing for switchback in a MetroCluster FC configuration]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_verify_port_configuration_mcc_fc_configs_only[Verifying port configuration (MetroCluster FC configurations only)]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_configure_the_fc_to_sas_bridges_mcc_fc[Configuring the FC-to-SAS bridges (MetroCluster FC configurations only)]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_configure_the_fc_switches_mcc_fc[Configuring the FC switches (MetroCluster FC configurations only)]
   **** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_configure_a_brocade_fc_switch_after_site_disaster[Configuring a Brocade FC switch after site disaster]
   **** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_configure_a_cisco_fc_switch_after_site_disaster[Configuring a Cisco FC switch after site disaster]
   **** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#concept_port_assignments_for_fc_switches_when_using_ontap_9_0[Port assignments for FC switches when using ONTAP 9.0]
   **** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#concept_port_assignments_for_fc_switches_when_using_ontap_9_1_and_later[Port assignments for FC switches when using ONTAP 9.1 and later]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_verify_the_storage_configuration[Verifying the storage configuration]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_power_on_the_equipment_and_enable_non_isl_ports[Powering on the equipment at the disaster site]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_assign_ownership_for_replaced_disks_mcc_dr[Assigning ownership for replaced drives]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_perform_heal_dur_site_recovery[Performing aggregate healing and restoring mirrors (MetroCluster FC configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_reassign_disk_ownership_for_root_aggregates_to_replacement_controller_modules_mcc_dr[Reassigning disk ownership for root aggregates to replacement controller modules (MetroCluster FC configurations)]
  *** link:task_prepare_for_switchback_in_a_mcc_fc_configuration_supertask.md#task_boot_the_new_controller_modules_mcc_fc_configurations_mcc_dr[Booting the new controller modules (MetroCluster FC configurations)]
 ** xref:task_prepare_the_nodes_for_switchback_in_a_mixed_configuration.adoc[Preparing the nodes for switchback in a mixed configuration (recovery during transition)]
 ** link:task_complete_recovery.md#task_complete_recovery[Completing recovery]
  *** link:task_complete_recovery.md#task_reestablish_object_stores_for_fabricpool_configurations[Reestablishing object stores for FabricPool configurations]
  *** link:task_complete_recovery.md#task_verify_licenses_on_the_replaced_nodes_mcc_dr[Verifying licenses on the replaced nodes]
  *** link:task_complete_recovery.md#task_perform_a_switchback[Performing a switchback]
  *** link:task_complete_recovery.md#task_verify_a_successful_switchback[Verifying a successful switchback]
  *** link:task_complete_recovery.md#task_mirror_the_root_aggregates_of_the_replacement_nodes_mcc_dr[Mirroring the root aggregates of the replacement nodes]
  *** link:task_complete_recovery.md#task_reconfigure_the_ontap_mediator_service_mcc_ip_configurations_mcc_dr[Reconfiguring the ONTAP Mediator service (MetroCluster IP configurations)]
  *** link:task_complete_recovery.md#task_verify_the_health_of_the_mcc_configuration[Verifying the health of the MetroCluster configuration]
* link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_recover_from_a_non_controller_failure_mcc_dr[Recovering from a non-controller failure]
 ** link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_heal_the_configuration_in_a_mcc_fc_configuration_supertask[Healing the configuration in a MetroCluster FC configuration]
  *** link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_heal_the_data_aggregates[Healing the data aggregates]
  *** link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_heal_the_root_aggregates_after_a_disaster[Healing the root aggregates]
 ** link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_verify_that_your_system_is_ready_for_a_switchback[Verifying that your system is ready for a switchback]
 ** link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_perform_a_switchback[Performing a switchback]
 ** link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_verify_a_successful_switchback[Verifying a successful switchback]
 ** link:task_recover_from_a_non_controller_failure_mcc_dr.md#task_delet_stale_aggregate_lists_after_switchback[Deleting stale aggregate listings after switchback]
* xref:reference_copyright_and_trademark.adoc[Copyright, trademark, and machine translation]
 ** xref:reference_copyright.adoc[Copyright]
 ** xref:reference_trademark.adoc[Trademark]
 ** xref:generic_machine_translation_disclaimer.adoc[Machine translation]
